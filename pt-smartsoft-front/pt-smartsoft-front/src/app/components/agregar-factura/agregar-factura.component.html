<div class="container" style="width: 80vh;">
    <div class="row mb-3 mt-3">
        <h3 class="col">Agregar Factura </h3>
        <a class="col btn btn-primary" style="margin-right: 10px;" routerLink="../facturas"> <h5>Lista de facturas <i class="fa-solid fa-users"></i></h5></a>
    </div>
    <form class="" (ngSubmit)="onSubmit()" #myForm="ngForm">
        
        <div class="form-floating col-md-12">
            <input required type="number" class="form-control" id="nombreInput" placeholder="id_cliente" 
            [(ngModel)]="idCliente" name = "id_cliente" min="1">
            <label for="id_cliente">ID Cliente</label>
        </div>
        <div class="row mt-3 mb-3">
            <div class="form-floating col">
                <input disabled="disabled" type="text" class="form-control" id="nombreInput" placeholder="nombre" 
                [(ngModel)]="factura.num_factura" name = "num_factura" value="{{ num_factura }}">
                <label for="num_factura">Numero de Factura</label>
            </div>
            
            <div class="form-floating col">
                <input disabled="disabled" type="datetime" class="form-control" id="fechaInput" 
                        placeholder="fecha_nacimiento" [(ngModel)]="factura.fecha" name = "fecha" 
                        value="{{fecha_factura | date:'yyyy-MM-dd HH:mm'}}" >
                <label for="fecha">Fecha</label>
            </div>
        </div>
       <div style="display: flex; justify-content: center;">
            <button type="submit" class="btn btn-primary" [disabled]="registroCreado || myForm.invalid">Guardar Factura</button>
       </div>
       <div style="display: flex; justify-content: center;" class="mt-3"  *ngIf="registroCreado">
            <button type="button" (click)="reiniciarFormulario()" class="btn btn-primary btn-new">Nueva factura</button>
        </div>
    </form>
    <!-- Mostrar mensaje de error si existe -->
    <div class="container text-center mt-3" >
        <span class ="span-error" *ngIf="mensajeError">{{ mensajeError }}</span>
        <span class ="span-exito"*ngIf="mensajeCorrecto">{{ mensajeCorrecto }}</span>
    </div>
    <div class="container text-center mt-3" >
        <h6 class ="span-error"*ngIf="detalleError">{{ detalleError }}</h6>
    </div>
    
</div>
<router-outlet></router-outlet>
