<div class="container" style="width: 80vh;">
    <div class="row mb-3 mt-3">
        <h3 class="col">Agregar Detalle </h3>
        <a class="col btn btn-primary" style="margin-right: 10px;" routerLink="../detalles"> <h5>Lista de Detalles <i class="fa-solid fa-users"></i></h5></a>
    </div>
    <form class="" (ngSubmit)="onSubmit()" #myForm="ngForm">
        <div class="row mt-3 mb-3">
            <div class="form-floating col">
                <input  type="text" class="form-control" id="nombreInput" placeholder="nombre" 
                [(ngModel)]="num_factura" name = "num_factura" [disabled]="registroCreado">
                <label for="num_factura">Numero de Factura</label>
            </div>
            <div class="form-floating col">
                <input  type="text" class="form-control" id="detalleInput" placeholder="nombre" 
                [(ngModel)]="num_detalle" name = "num_detalle" disabled="disabled" >
                <label for="num_detalle">Numero de Detalle</label>
            </div>
        </div>
        <div class="row mt-3 mb-3">
            <div class="form-floating col">
                <input type="number" class="form-control" id="idProductoInput" placeholder="apellido" 
                [(ngModel)]="detalle.producto.id_producto" name = "id_producto" required min="1" [disabled]="registroCreado">
                <label for="id_producto">ID Producto</label>
            </div>

            <div class="form-floating col">
                <input type="number" class="form-control" id="cantidadInput" placeholder="apellido" 
                [(ngModel)]="detalle.cantidad" name = "cantidad" required min="1" [disabled]="registroCreado">
                <label for="cantidad">Cantidad</label>
            </div>
        </div>
        
       <div style="display: flex; justify-content: center;">
            <button type="submit" class="btn btn-primary" [disabled]="registroCreado || myForm.invalid">Guardar Detalle</button>
            
       </div>
       <div style="display: flex; justify-content: center;" class="mt-3"  *ngIf="registroCreado">
            <button type="button" (click)="reiniciarFormulario()" class="btn btn-primary btn-new">Nuevo Detalle</button>
        </div>
    </form>
    <!-- Mostrar mensaje de error si existe -->
    <div class="container text-center mt-3" >
        <span class ="span-error" *ngIf="mensajeError">{{ mensajeError }}</span>
        <span class ="span-exito"*ngIf="mensajeCorrecto">{{ mensajeCorrecto }}</span>
    </div>
    <div class="container text-center mt-3" >
        <h6 class ="span-error"*ngIf="detalleError">{{ detalleError }}</h6>
    </div>
    
</div>
<router-outlet></router-outlet>
